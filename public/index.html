<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <title>FP - Trang chủ</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link rel="stylesheet" href="main.css">
</head>
<body>
  <header class="site-header">
    <div class="container header-inner">
      <div class="branding">
        <a href="/" class="logo">FP</a>
        <div class="site-sub">Hệ thống học tập</div>
      </div>

      <div class="header-search">
        <input id="global-search" type="search" placeholder="Tìm môn hoặc tài liệu (nhấn Enter)" />
      </div>

      <nav class="site-nav" id="nav">
        <a href="register.html" id="link-register" class="nav-link">Đăng ký</a>
        <a href="login.html" id="link-login" class="nav-link">Đăng nhập</a>
        <a href="#" id="link-logout" class="nav-link" style="display:none">Đăng xuất</a>
      </nav>
    </div>
  </header>

  <main class="container">

    <section class="card">
      <h3>Danh sách môn theo nhóm lớp</h3>
      <p class="small">Nhấp vào môn để hiện danh sách tài liệu. Mỗi tài liệu có nút "Mở" dẫn đến trang xem tài liệu riêng.</p>

      <div class="cards-grid grades-wrapper" id="grades-area">
        <div class="grade">
          <h4>Lớp 6 — 9</h4>
          <div class="two-col">
            <div class="grade-panel">
              <strong>Lớp 6</strong>
              <ul id="grade-6" class="subject-grid subject-list"></ul>
            </div>
            <div class="grade-panel">
              <strong>Lớp 7</strong>
              <ul id="grade-7" class="subject-grid subject-list"></ul>
            </div>
            <div class="grade-panel">
              <strong>Lớp 8</strong>
              <ul id="grade-8" class="subject-grid subject-list"></ul>
            </div>
            <div class="grade-panel">
              <strong>Lớp 9</strong>
              <ul id="grade-9" class="subject-grid subject-list"></ul>
            </div>
          </div>
        </div>

        <div class="grade">
          <h4>Lớp 10 — 12</h4>
          <div class="two-col">
            <div class="grade-panel">
              <strong>Lớp 10</strong>
              <ul id="grade-10" class="subject-grid subject-list"></ul>
            </div>
            <div class="grade-panel">
              <strong>Lớp 11</strong>
              <ul id="grade-11" class="subject-grid subject-list"></ul>
            </div>
            <div class="grade-panel">
              <strong>Lớp 12</strong>
              <ul id="grade-12" class="subject-grid subject-list"></ul>
            </div>
            <div class="grade-panel">
              <strong>Chung</strong>
              <ul id="grade-common" class="subject-grid subject-list"></ul>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section class="card" style="margin-top:1rem">
      <h3>Ghi chú</h3>
      <ul>
        <li>Nhấn một môn → danh sách tài liệu (TOC) sẽ hiện ở phần bên phải của trang (nếu có).</li>
        <li>Nhấn nút "Mở" trên một file → chuyển sang trang <code>/file.html?id=...</code> để xem hoặc tải về.</li>
      </ul>
    </section>
  </main>

  <footer class="site-footer">
    <div class="container">
      <small>© FP — Hệ thống học tập</small>
    </div>
  </footer>
<!-- Add this in <head> BEFORE subject-links.js (or any client script that calls apiUrl) -->
<script>
  // Nếu frontend và API cùng origin (chạy node server trên same host/port), để ''.
  // Nếu frontend trên port khác khi dev (ví dụ live-server port 5500), set thành http://localhost:5001
  window.API_BASE = window.API_BASE || 'http://localhost:5001';
</script>
  <!-- subject-links.js contains both auth handling and subject/Drive logic (no extra auth.js file) -->
  <script src="subject-links.js"></script>
</body>
</html>