<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <title>FP — Trang chủ</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" crossorigin="anonymous" referrerpolicy="no-referrer" />
  <link rel="stylesheet" href="main.css">
</head>
<script>
  // fallback: populate subjects if external index.js không chạy
  (function(){
    const subjectsByGrade = {
      6:['Toán','Ngữ văn','Tiếng Anh','Khoa học tự nhiên','Lịch sử','Địa lí','Tin học','Công nghệ','GDCD'],
      7:['Toán','Ngữ văn','Tiếng Anh','Vật lí','Hóa học','Sinh học','Lịch sử','Địa lí','Công nghệ'],
      8:['Toán','Ngữ văn','Tiếng Anh','Vật lí','Hóa học','Sinh học','Lịch sử','Địa lí','Tin học'],
      9:['Toán','Ngữ văn','Tiếng Anh','Vật lí','Hóa học','Sinh học','Lịch sử','Địa lí','GDQPAN'],
      10:['Toán (Tự chọn/Chuyên)','Ngữ văn','Tiếng Anh','Vật lí','Hóa học','Sinh học','Tin học','GDCD'],
      11:['Toán','Ngữ văn','Tiếng Anh','Vật lí','Hóa học','Sinh học','Tin học','GDQPAN'],
      12:['Toán','Ngữ văn','Tiếng Anh','Vật lí','Hóa học','Sinh học','Tin học','Lịch sử & Địa lí'],
      common:['Giáo dục công dân','Công nghệ','Khoa học tự nhiên','Giáo dục kinh tế và pháp luật']
    };
    function createItem(name, grade){
      const li = document.createElement('li');
      const a = document.createElement('a');
      a.href = '#';
      a.className = 'subject';
      a.textContent = name;
      a.setAttribute('data-desc', `Mô tả mẫu cho môn "${name}".`);
      a.addEventListener('click', function(e){
        e.preventDefault();
        document.getElementById('subject-title').textContent = name;
        document.getElementById('subject-desc').textContent = `Mô tả mẫu cho môn "${name}".`;
        document.getElementById('subject-detail').style.display = 'block';
      });
      li.appendChild(a);
      return li;
    }
    function populateFallback(){
      Object.keys(subjectsByGrade).forEach(function(g){
        const ul = document.getElementById('grade-' + g);
        if(!ul) return;
        if(ul.children.length === 0){
          subjectsByGrade[g].forEach(n => ul.appendChild(createItem(n, g)));
        }
      });
      console.info('[FP fallback] subjects populated');
    }
    if(document.readyState === 'loading'){
      document.addEventListener('DOMContentLoaded', populateFallback);
    } else populateFallback();
  })();
</script>
</body>
<body>
  <header class="top-header">
    <div class="header-left">
      <a href="/"><img src="logo.png" alt="logo" class="logo"></a>
      <div>
        <h1>FP — Hệ thống học tập</h1>
        <div class="tagline small muted">Trang quản lý người dùng & danh sách môn</div>
      </div>
    </div>

    <nav class="menu-class" aria-label="Lớp">
      <a href="#" class="menu-item active">Lớp 6</a>
      <a href="#" class="menu-item">Lớp 7</a>
      <a href="#" class="menu-item">Lớp 8</a>
      <a href="#" class="menu-item">Lớp 9</a>
      <a href="#" class="menu-item">Lớp 10</a>
      <a href="#" class="menu-item">Lớp 11</a>
      <a href="#" class="menu-item">Lớp 12</a>
      <a href="upload-assignments.html" class="menu-item menu-upload" id="link-upload"><i class="fa fa-upload"></i> Tải bài tập</a>
    </nav>

    <div class="header-right">
      <form class="search-form" role="search" onsubmit="return false">
        <input class="search-input" placeholder="Tìm môn, lớp..." />
        <button class="search-btn" aria-label="Search"><i class="fa fa-search"></i></button>
      </form>

      <div class="user-area">
        <img src="avatar.png" alt="avatar" class="avatar" id="avatarBtn">
      </div>
    </div>
  </header>

  <main class="container">
    <!-- MAIN CARD -->
    <section class="card" id="main">
      <div id="status-block" data-status-prompt>
        <div style="display:flex; justify-content:space-between; align-items:center; gap:12px; flex-wrap:wrap">
          <div>
            <h2 id="status-title">Bạn chưa đăng nhập</h2>
            <div id="status-desc" class="muted">Bạn có thể đăng nhập hoặc đăng ký để truy cập các tính năng bảo mật.</div>
          </div>
          <div>
            <a href="login.html" class="btn btn-ghost" id="link-login"><i class="fa fa-right-to-bracket"></i> Đăng nhập</a>
            <a href="register.html" class="btn" id="link-register"><i class="fa fa-user-plus"></i> Đăng ký</a>
            <a href="upload-assignments.html" class="btn btn-ghost" id="btn-upload-quick"><i class="fa fa-upload"></i> Tải bài tập</a>
          </div>
        </div>
      </div>

      <!-- User card (hidden by default) -->
      <div id="user-card" class="card hidden" style="margin-top:16px">
        <h3>Thông tin tài khoản</h3>
        <div id="user-info" class="muted"></div>
        <div class="user-actions" style="margin-top:12px">
          <button id="btn-logout" class="btn btn-ghost"><i class="fa fa-sign-out-alt"></i> Đăng xuất</button>
          <button id="btn-test" class="btn"><i class="fa fa-lock"></i> Gọi API bảo mật</button>
        </div>
        <div id="api-result" class="api-result" style="margin-top:10px"></div>
      </div>

      <div id="messages" style="margin-top:12px">
        <div id="msg" class="ok" style="display:none"></div>
        <div id="err" class="err" style="display:none"></div>
      </div>
    </section>

    <!-- SUBJECTS -->
    <section class="card subjects-view" id="subjects">
      <h3 class="service-title">Danh sách môn theo nhóm lớp</h3>
      <p class="small muted">Nhấp vào môn để xem mô tả mẫu và liên kết SGK / SBT tương ứng. Nhấn link để mở trang sách.</p>

      <div class="grid" style="margin-top:12px">
        <div class="grade">
          <h4>Lớp 6 — 9</h4>
          <div class="two-col">
            <div>
              <strong>Lớp 6</strong>
              <ul id="grade-6"></ul>
            </div>
            <div>
              <strong>Lớp 7</strong>
              <ul id="grade-7"></ul>
            </div>
            <div>
              <strong>Lớp 8</strong>
              <ul id="grade-8"></ul>
            </div>
            <div>
              <strong>Lớp 9</strong>
              <ul id="grade-9"></ul>
            </div>
          </div>
        </div>

        <div class="grade">
          <h4>Lớp 10 — 12</h4>
          <div class="two-col">
            <div>
              <strong>Lớp 10</strong>
              <ul id="grade-10"></ul>
            </div>
            <div>
              <strong>Lớp 11</strong>
              <ul id="grade-11"></ul>
            </div>
            <div>
              <strong>Lớp 12</strong>
              <ul id="grade-12"></ul>
            </div>
            <div>
              <strong>Chung</strong>
              <ul id="grade-common"></ul>
            </div>
          </div>
        </div>
      </div>

      <!-- detail box -->
      <div id="subject-detail" class="subject-detail" style="display:none; margin-top:12px">
        <h4 id="subject-title"></h4>
        <div id="subject-desc" class="muted"></div>
        <div id="subject-books" class="subject-books" style="margin-top:8px"></div>
      </div>
    </section>

    <!-- NOTES -->
    <section class="card" style="margin-top:16px">
      <h3>Ghi chú</h3>
      <ul>
        <li>Nhấn vào tên môn → danh sách sách giáo khoa / sách bài tập sẽ hiện ở khung chi tiết.</li>
        <li>Link mở trang sách (hoc10.vn) trong tab mới.</li>
      </ul>
    </section>

    <footer class="site-footer">
      <div>© FP — Hệ thống học tập</div>
    </footer>
  </main>

  <script src="index.js"></script>
</body>
</html>